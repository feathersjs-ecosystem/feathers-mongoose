# Changelog

## [Unreleased](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/HEAD)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v8.3.3...HEAD)

**Merged pull requests:**

- Only $populate if it's whitelisted [\#402](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/402) ([GautierT](https://github.com/GautierT))

## [v8.3.3](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v8.3.3) (2021-04-08)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v8.3.2...v8.3.3)

## [v8.3.2](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v8.3.2) (2021-04-08)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v8.3.1...v8.3.2)

**Fixed bugs:**

- Patch changed queries [\#377](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/377)

**Closed issues:**

- Security Issue - whitelist doesn't remove $populate [\#400](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/400)
- Sort outer collection by populated inner collections [\#399](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/399)
- Compatibility issues with mongoose \< 5.2.0 [\#393](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/393)
- Crear vistas en feathers-mongoose [\#392](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/392)
- "command insert requires authentication", db adapter not production-ready? [\#389](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/389)
- An in-range update of mongoose is breaking the build 🚨 [\#376](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/376)

**Merged pull requests:**

- Only allow $populate when listed [\#401](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/401) ([daffl](https://github.com/daffl))

## [v8.3.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v8.3.1) (2020-06-22)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v8.3.0...v8.3.1)

**Closed issues:**

- post working even when not passing in multi array [\#387](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/387)
- Invalid query parameter $elemMatch [\#384](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/384)
- bug in custom route hooks \( authentication \) [\#381](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/381)
- Data has been write to test database [\#380](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/380)
- No record found for id... when authenticating [\#378](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/378)
- Is this compatible with Amazon's DocumentDB? [\#374](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/374)
- Support arrayFilter in patch [\#373](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/373)
- \_get and \_patch "No record found for id" [\#369](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/369)
- Can't get softDelete2 working properly!! [\#367](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/367)
- An in-range update of dtslint is breaking the build 🚨 [\#366](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/366)
- Incorrect behavior in a shard cluster [\#361](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/361)
- An in-range update of @feathersjs/adapter-commons is breaking the build 🚨 [\#360](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/360)
- Typescipt definitions do not include service.setup\(\) method [\#357](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/357)

**Merged pull requests:**

- Fix params.transactionOpen reset in rollback [\#386](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/386) ([wcheung26](https://github.com/wcheung26))
- Update sinon to the latest version 🚀 [\#372](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/372) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Update dtslint to the latest version 🚀 [\#371](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/371) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Update all dependencies and Types version [\#368](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/368) ([daffl](https://github.com/daffl))

## [v8.3.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v8.3.0) (2020-01-08)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/8.3.0...v8.3.0)

## [8.3.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/8.3.0) (2020-01-08)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v8.2.0...8.3.0)

**Fixed bugs:**

- service.patch leads to 404 if query contains the patched field [\#345](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/345)
- patch is incorrectly applying the entire query when re-fetching [\#321](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/321)

**Merged pull requests:**

- update '\_remove' method [\#364](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/364) ([sarkistlt](https://github.com/sarkistlt))

## [v8.2.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v8.2.0) (2020-01-05)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v8.1.1...v8.2.0)

**Merged pull requests:**

- Add launch.json for mocha tests & fix typescript error. [\#365](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/365) ([marshallswain](https://github.com/marshallswain))
- Update sinon to the latest version 🚀 [\#363](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/363) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- :bug: fix 404 on patch call [\#362](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/362) ([arfanliaqat](https://github.com/arfanliaqat))

## [v8.1.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v8.1.1) (2019-12-06)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v8.1.0...v8.1.1)

**Closed issues:**

- feathers service [\#352](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/352)
- An in-range update of @feathersjs/adapter-commons is breaking the build 🚨 [\#350](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/350)

**Merged pull requests:**

- Update all dependencies [\#359](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/359) ([daffl](https://github.com/daffl))
- fix: handling of params.mongoose in transaction [\#358](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/358) ([florianbepunkt](https://github.com/florianbepunkt))
- Update dtslint to the latest version 🚀 [\#356](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/356) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Update dtslint to version 1.0.2 [\#355](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/355) ([daffl](https://github.com/daffl))
- Greenkeeper/@feathersjs/adapter commons 4.3.8 [\#351](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/351) ([daffl](https://github.com/daffl))

## [v8.1.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v8.1.0) (2019-10-07)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v8.0.3...v8.1.0)

**Implemented enhancements:**

- `whitelist` property should merge with mongoose defaults [\#347](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/347)

**Merged pull requests:**

- Update all dependencies [\#349](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/349) ([daffl](https://github.com/daffl))
- Merge whitelist to always include $and [\#348](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/348) ([daffl](https://github.com/daffl))

## [v8.0.3](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v8.0.3) (2019-09-29)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v8.0.2...v8.0.3)

**Closed issues:**

- An in-range update of run-rs is breaking the build 🚨 [\#341](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/341)
- An in-range update of mongoose is breaking the build 🚨 [\#340](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/340)
- An in-range update of mongoose is breaking the build 🚨 [\#337](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/337)

**Merged pull requests:**

- Update run-rs to the latest version 🚀 [\#346](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/346) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Update all dependencies [\#344](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/344) ([daffl](https://github.com/daffl))
- Greenkeeper/run rs 0.5.5 [\#343](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/343) ([daffl](https://github.com/daffl))
- Pass entity type to AdapterService\<T\> [\#342](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/342) ([Palivonas](https://github.com/Palivonas))
- Update semistandard to the latest version 🚀 [\#338](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/338) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))

## [v8.0.2](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v8.0.2) (2019-08-07)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v8.0.1...v8.0.2)

**Closed issues:**

- Returned objects not lean. Cannot set lean option. \(Typescript\) [\#335](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/335)
- populate not working for mongoose model [\#328](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/328)

**Merged pull requests:**

- Add missing options to definitions [\#336](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/336) ([daffl](https://github.com/daffl))

## [v8.0.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v8.0.1) (2019-07-20)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v8.0.0...v8.0.1)

**Closed issues:**

- get query object [\#332](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/332)

**Merged pull requests:**

- Add missing types mapping [\#334](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/334) ([daffl](https://github.com/daffl))
- Update dtslint to the latest version 🚀 [\#333](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/333) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))

## [v8.0.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v8.0.0) (2019-07-07)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v7.3.2...v8.0.0)

**Closed issues:**

- Change \_Id to id [\#325](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/325)
- How to pass collation from client? [\#322](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/322)
- Populate 2 levels deep  [\#320](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/320)
- $populate example in docs has a typo [\#319](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/319)
- Why is $text not whitelisted when querying? [\#318](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/318)
- An in-range update of mongoose is breaking the build 🚨 [\#317](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/317)
- Help with inserting subdocuments [\#316](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/316)
- gridfs support? [\#315](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/315)
- get object through the \_id reference [\#314](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/314)
- Not able to receive the response in patch request when $push is used in feathersjs. [\#313](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/313)

**Merged pull requests:**

- Fix query merging on patch [\#330](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/330) ([daffl](https://github.com/daffl))
- Add TypeScript definitions and upgrade tests to Feathers 4 [\#329](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/329) ([daffl](https://github.com/daffl))
- Update all dependencies [\#327](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/327) ([daffl](https://github.com/daffl))
- Update run-rs to the latest version 🚀 [\#312](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/312) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))

## [v7.3.2](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v7.3.2) (2019-03-04)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v7.3.1...v7.3.2)

**Closed issues:**

- Invalid query parameter $and [\#309](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/309)
- An in-range update of sinon is breaking the build 🚨 [\#308](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/308)
- An in-range update of mongoose is breaking the build 🚨 [\#307](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/307)
- Cannot read property 'startSession' of undefined [\#304](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/304)
- An in-range update of mocha is breaking the build 🚨 [\#303](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/303)
- An in-range update of mongoose is breaking the build 🚨 [\#301](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/301)
- An in-range update of mongoose is breaking the build 🚨 [\#300](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/300)

**Merged pull requests:**

- Whitelist  and $and and $regex [\#311](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/311) ([daffl](https://github.com/daffl))
- Use Mongoose directly to start a session [\#310](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/310) ([daffl](https://github.com/daffl))
- Greenkeeper/mocha 6.0.2 [\#306](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/306) ([daffl](https://github.com/daffl))
- Update mocha to the latest version 🚀 [\#302](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/302) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Fix: Added test case for find transaction [\#299](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/299) ([Sharveshkumar](https://github.com/Sharveshkumar))

## [v7.3.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v7.3.1) (2019-01-31)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v7.3.0...v7.3.1)

**Closed issues:**

- $and condition is not satisfied. [\#297](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/297)

**Merged pull requests:**

- Fix: Transaction for find and get. [\#298](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/298) ([Sharveshkumar](https://github.com/Sharveshkumar))

## [v7.3.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v7.3.0) (2019-01-17)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v7.2.0...v7.3.0)

**Closed issues:**

- Conflict error for compound indexes is not correct [\#258](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/258)

**Merged pull requests:**

- Expose original MongoDB error following feathers-sequelize methodology [\#296](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/296) ([cdimitroulas](https://github.com/cdimitroulas))

## [v7.2.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v7.2.0) (2019-01-13)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v7.1.3...v7.2.0)

**Fixed bugs:**

- unknown top level operator: $populate [\#293](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/293)

**Closed issues:**

- $populate as query param for create not working [\#268](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/268)

**Merged pull requests:**

- Fix populate usage and enable for .create [\#295](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/295) ([daffl](https://github.com/daffl))
- Make sure ids in queries are respected [\#294](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/294) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))

## [v7.1.3](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v7.1.3) (2019-01-06)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v7.1.2...v7.1.3)

**Closed issues:**

- Failed to patch with null, error: TypeError: data.map is not a function at mapIds [\#289](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/289)

**Merged pull requests:**

- Make sure data is never paginated [\#292](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/292) ([daffl](https://github.com/daffl))

## [v7.1.2](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v7.1.2) (2019-01-06)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v7.1.1...v7.1.2)

**Closed issues:**

- Extra data directory included since version 7.0.0  [\#290](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/290)

**Merged pull requests:**

- Do not publish data directory [\#291](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/291) ([daffl](https://github.com/daffl))

## [v7.1.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v7.1.1) (2018-12-29)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v7.1.0...v7.1.1)

**Merged pull requests:**

- Add default params to hook-less methods [\#288](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/288) ([daffl](https://github.com/daffl))

## [v7.1.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v7.1.0) (2018-12-29)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v7.0.0...v7.1.0)

**Closed issues:**

- feathers update service cleans document [\#274](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/274)

**Merged pull requests:**

- Added hooks to support mongo-db transaction [\#276](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/276) ([jaiyashree](https://github.com/jaiyashree))

## [v7.0.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v7.0.0) (2018-12-18)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v6.3.0...v7.0.0)

**Implemented enhancements:**

- params.query is ignored for returned data when removing a record [\#244](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/244)

**Security fixes:**

- $populate security risk [\#207](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/207)

**Closed issues:**

- An in-range update of @feathersjs/express is breaking the build 🚨 [\#284](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/284)
- An in-range update of @feathersjs/errors is breaking the build 🚨 [\#283](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/283)
- An in-range update of mongoose is breaking the build 🚨 [\#282](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/282)
- An in-range update of mongoose is breaking the build 🚨 [\#278](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/278)
- how to disable a hook in call a method? [\#277](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/277)
- An in-range update of mongoose is breaking the build 🚨 [\#272](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/272)

**Merged pull requests:**

- Upgrade to @feathersjs/adapter-commons and latest common service features [\#286](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/286) ([daffl](https://github.com/daffl))
- Update run-rs setup [\#285](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/285) ([daffl](https://github.com/daffl))
- feat: add query filters additionally to id in the get hook [\#280](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/280) ([aliveghost04](https://github.com/aliveghost04))
- Update README.md [\#279](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/279) ([einstenj](https://github.com/einstenj))

## [v6.3.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v6.3.0) (2018-11-27)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v6.2.0...v6.3.0)

**Implemented enhancements:**

- Passing through collation options for case insensitive sorting [\#211](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/211)

**Closed issues:**

- Populating multiple paths is not supported [\#271](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/271)
- An in-range update of @feathersjs/socketio is breaking the build 🚨 [\#267](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/267)
- Schema validation does not run for patch requests [\#266](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/266)
- Bug $near on version 6.1.4 not working, 6.1.3 return wrong total \( collection total, not total found \) [\#264](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/264)

**Merged pull requests:**

- Fix deprecation warnings and update dependencies [\#275](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/275) ([daffl](https://github.com/daffl))
- Add missing property option in readme [\#270](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/270) ([aliveghost04](https://github.com/aliveghost04))
- Update semistandard to the latest version 🚀 [\#269](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/269) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Feat: mongo opt to return writeResult [\#261](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/261) ([54M5M17H](https://github.com/54M5M17H))

## [v6.2.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v6.2.0) (2018-10-03)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v6.1.4...v6.2.0)

**Fixed bugs:**

- Inconsistent discriminator API [\#247](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/247)

**Closed issues:**

- Error: You must provide a Mongoose Model \(at new Service\) on Model variable name change [\#265](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/265)
- An in-range update of @feathersjs/errors is breaking the build 🚨 [\#262](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/262)
- patch model with a discriminator [\#259](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/259)
- \[question\]\[Documents\] RunValidators is set by default? [\#255](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/255)
- There is total but no data [\#254](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/254)

**Merged pull requests:**

- Handled collation param for case insensitive indexes [\#263](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/263) ([superbarne](https://github.com/superbarne))
- fix test because mongoose broke it [\#260](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/260) ([superbarne](https://github.com/superbarne))
- Update default settings in docs [\#256](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/256) ([ghost](https://github.com/ghost))
- reconcile create handler discriminatorKey [\#253](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/253) ([makslevental](https://github.com/makslevental))

## [v6.1.4](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v6.1.4) (2018-08-08)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v6.1.3...v6.1.4)

**Closed issues:**

- DeprecationWarning: collection.count is deprecated, and will be removed in a future version [\#246](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/246)

**Merged pull requests:**

- `estimatedDocumentCount` to `countDocuments` [\#252](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/252) ([giovannilobitos](https://github.com/giovannilobitos))

## [v6.1.3](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v6.1.3) (2018-08-06)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v6.1.2...v6.1.3)

**Merged pull requests:**

- Updated to remove the deprecated .count [\#250](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/250) ([Mattchewone](https://github.com/Mattchewone))
- Update sinon to the latest version 🚀 [\#243](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/243) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))

## [v6.1.2](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v6.1.2) (2018-06-03)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v6.1.1...v6.1.2)

**Closed issues:**

- Patch/update should load the document and then save to call defaults/setters [\#231](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/231)
- Working example of sort by distance with latitude/longitude and maxDistance? [\#230](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/230)
- Virtuals Lean and Populate and toObject [\#198](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/198)

**Merged pull requests:**

- Update uberproto to the latest version 🚀 [\#242](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/242) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))

## [v6.1.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v6.1.1) (2018-04-19)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v6.1.0...v6.1.1)

**Closed issues:**

- Mongoose 5 warning "The `useMongoClient` option is no longer necessary in mongoose 5.x, please remove it." [\#239](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/239)
- Grouping [\#236](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/236)
- Mongoose ObjectId not be recognised as \_id in create [\#232](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/232)

**Merged pull requests:**

- Remove indexes [\#241](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/241) ([daffl](https://github.com/daffl))
- Fix bug where regex fails in error-handler [\#240](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/240) ([cdimitroulas](https://github.com/cdimitroulas))
- Update sinon-chai to the latest version 🚀 [\#234](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/234) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))

## [v6.1.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v6.1.0) (2018-01-20)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v6.0.0...v6.1.0)

**Merged pull requests:**

- Update mocha to the latest version 🚀 [\#229](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/229) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Update mongoose to the latest version 🚀 [\#228](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/228) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Update semistandard to the latest version 🚀 [\#227](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/227) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))

## [v6.0.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v6.0.0) (2017-12-03)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v5.1.2...v6.0.0)

**Implemented enhancements:**

- Suggestion - insertMany [\#197](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/197)

**Closed issues:**

- mongoose validation error \(in hook\)  kills nodejs process [\#222](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/222)
- Add example for nested schemas using feathers [\#221](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/221)
- Are nested schemas saved? [\#220](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/220)
- Feathers error 409 - conflict: message 'follows: null already exists'' [\#219](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/219)
-  Find Query with $in array of ObjectId's  [\#216](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/216)
- Can not call update with a null id [\#214](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/214)
- poulate after create hook [\#213](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/213)
- Mongoose query aggregation [\#212](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/212)
- Can't update field that is used as id [\#202](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/202)
- $populate enhancement [\#149](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/149)
- Mongoose ValidationError messages do not surface [\#116](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/116)

**Merged pull requests:**

- Remove examples [\#225](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/225) ([daffl](https://github.com/daffl))
- Update to Feathers Buzzard \(v3\) [\#224](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/224) ([daffl](https://github.com/daffl))
- Update to new plugin infrastructure [\#223](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/223) ([daffl](https://github.com/daffl))
- Update mocha to the latest version 🚀 [\#217](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/217) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Update sinon to the latest version 🚀 [\#215](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/215) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))

## [v5.1.2](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v5.1.2) (2017-08-14)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v5.1.1...v5.1.2)

**Closed issues:**

- Changing embedded documents [\#208](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/208)
- Query $in with more than 21 items throw a MongooseError.CastError [\#205](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/205)
- Service should provide a hook to loaded resource or respect filters in all methods [\#204](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/204)
- Custom ID Not working [\#189](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/189)
- Discriminators is not working [\#188](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/188)
- Make sure create many works with lean:true.  Follow up on \#160 [\#161](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/161)
- PUT \(update\) does not run mongoose validators [\#115](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/115)

**Merged pull requests:**

- Update sinon to the latest version 🚀 [\#206](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/206) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Fixing broken links to docs [\#203](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/203) ([corymsmith](https://github.com/corymsmith))
- Ensure bulk create returns plain objects when lean is 'true' [\#186](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/186) ([DesignByOnyx](https://github.com/DesignByOnyx))

## [v5.1.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v5.1.1) (2017-07-07)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v5.1.0...v5.1.1)

**Closed issues:**

- Mongoose middleware not working correctly with feathers? [\#196](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/196)
- Mongoose dependency issues [\#193](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/193)
- An in-range update of mongoose is breaking the build 🚨 [\#192](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/192)
- Default for mongoose update not really good \(override true\) [\#191](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/191)
- Using \[$in\] with a single value [\#185](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/185)

**Merged pull requests:**

- Handle upserts with patch [\#200](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/200) ([marshallswain](https://github.com/marshallswain))
- Greenkeeper/mongoose 4.10.4 [\#195](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/195) ([daffl](https://github.com/daffl))
- Update chai to the latest version 🚀 [\#194](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/194) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Update feathers-socketio to the latest version 🚀 [\#190](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/190) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Update feathers-service-tests to the latest version 🚀 [\#187](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/187) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))

## [v5.1.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v5.1.0) (2017-04-29)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v5.0.3...v5.1.0)

**Closed issues:**

- An in-range update of mongoose is breaking the build 🚨 [\#184](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/184)
- Can't use mongoose plugin based on pre with patch or put [\#178](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/178)
- lean and populate [\#169](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/169)

**Merged pull requests:**

- Update semistandard to the latest version 🚀 [\#183](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/183) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Update feathers-hooks to the latest version 🚀 [\#182](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/182) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Update dependencies to enable Greenkeeper 🌴 [\#181](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/181) ([greenkeeper[bot]](https://github.com/apps/greenkeeper))
- Discriminated Model Support [\#180](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/180) ([startupthekid](https://github.com/startupthekid))
- Update sinon to version 2.0.0 🚀 [\#176](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/176) ([greenkeeperio-bot](https://github.com/greenkeeperio-bot))

## [v5.0.3](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v5.0.3) (2017-03-02)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v5.0.2...v5.0.3)

## [v5.0.2](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v5.0.2) (2017-03-01)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v5.0.1...v5.0.2)

## [v5.0.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v5.0.1) (2017-03-01)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v5.0.0...v5.0.1)

**Closed issues:**

- Blowing up Mongoose with undefined value in $push [\#167](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/167)
- Potential security issue with 409 error [\#166](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/166)

**Merged pull requests:**

- Parsing fix [\#170](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/170) ([ekryski](https://github.com/ekryski))

## [v5.0.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v5.0.0) (2017-02-27)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v4.0.1...v5.0.0)

**Closed issues:**

- Please provide a working example for $push [\#165](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/165)
- Virtuals [\#164](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/164)
- How can I pass additional query parameters in a REST `put` operation? [\#162](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/162)

**Merged pull requests:**

- adding better mongoose conflict error handling [\#168](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/168) ([ekryski](https://github.com/ekryski))

## [v4.0.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v4.0.1) (2017-02-03)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v4.0.0...v4.0.1)

**Merged pull requests:**

- Use toObject for create when lean is true [\#160](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/160) ([daffl](https://github.com/daffl))

## [v4.0.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v4.0.0) (2017-01-29)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.6.2...v4.0.0)

**Closed issues:**

- Make lean: true by default [\#132](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/132)

**Merged pull requests:**

- Make lean true by default [\#159](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/159) ([daffl](https://github.com/daffl))

## [v3.6.2](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.6.2) (2017-01-13)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.6.1...v3.6.2)

**Closed issues:**

- using lean options in a service with a subdocument model doesn't seem to work  [\#157](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/157)
- Cast to ObjectId failed for value \_id [\#156](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/156)

**Merged pull requests:**

- Allow $select to catch and use string syntax [\#158](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/158) ([jamesjnadeau](https://github.com/jamesjnadeau))
- Added warning msg when options.lean is falsey [\#155](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/155) ([eddyystop](https://github.com/eddyystop))

## [v3.6.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.6.1) (2016-11-15)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.6.0...v3.6.1)

**Closed issues:**

- feathers-mongoose@3.6.0 break custom model id [\#151](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/151)
- Disable $where by default [\#148](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/148)

**Merged pull requests:**

- Do not delete model ids [\#152](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/152) ([daffl](https://github.com/daffl))

## [v3.6.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.6.0) (2016-11-12)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.5.3...v3.6.0)

**Fixed bugs:**

- patch doesn't throw correct object [\#110](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/110)

**Closed issues:**

- Patch is deleting subdocument data [\#144](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/144)
- How do I get average? [\#140](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/140)
- Support $select in get [\#134](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/134)
- Add changelog binary to repo [\#114](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/114)

**Merged pull requests:**

- Update feathers-service-tests to version 0.9.0 🚀 [\#150](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/150) ([greenkeeperio-bot](https://github.com/greenkeeperio-bot))
- feathers-rest@1.5.2 breaks build ⚠️ [\#147](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/147) ([greenkeeperio-bot](https://github.com/greenkeeperio-bot))
- Node 4+ [\#146](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/146) ([daffl](https://github.com/daffl))
- babel-core@6.18.2 breaks build ⚠️ [\#143](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/143) ([greenkeeperio-bot](https://github.com/greenkeeperio-bot))
- babel-cli@6.18.0 breaks build ⚠️ [\#138](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/138) ([greenkeeperio-bot](https://github.com/greenkeeperio-bot))
- jshint —\> semistandard [\#131](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/131) ([corymsmith](https://github.com/corymsmith))
- adding code coverage [\#130](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/130) ([ekryski](https://github.com/ekryski))
- Update feathers-service-tests to version 0.8.1 🚀 [\#124](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/124) ([greenkeeperio-bot](https://github.com/greenkeeperio-bot))

## [v3.5.3](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.5.3) (2016-10-14)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.5.2...v3.5.3)

**Closed issues:**

- Add MongoDB requirement information to README [\#128](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/128)
- Query filter does not work with booleans [\#122](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/122)
- Extending rest api functionality [\#121](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/121)
- $populate across multiple levels [\#119](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/119)
- Cannot get REST response to work [\#118](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/118)
- $or query with a REST GET request \($or needs an array\) [\#117](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/117)

**Merged pull requests:**

- Adds the posibility to send an object to the $select [\#129](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/129) ([stalinb87](https://github.com/stalinb87))

## [v3.5.2](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.5.2) (2016-08-23)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.5.1...v3.5.2)

**Fixed bugs:**

- Cannot $populate on update or patch [\#111](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/111)

**Closed issues:**

- Soft Delete [\#109](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/109)
- Routing Feathers service with express [\#108](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/108)
- Wrong ObjectId passed to service methods on nested routes [\#106](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/106)
- How to change response code and data [\#102](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/102)

**Merged pull requests:**

- Ensure we convert mongoose models to regular objects. Closes \#110. [\#112](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/112) ([ekryski](https://github.com/ekryski))
- Update mocha to version 3.0.0 🚀 [\#107](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/107) ([greenkeeperio-bot](https://github.com/greenkeeperio-bot))

## [v3.5.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.5.1) (2016-07-17)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.5.0...v3.5.1)

**Fixed bugs:**

- Duplicate key errors should be Conflicts not BadRequests [\#104](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/104)

**Merged pull requests:**

- changing duplicate key error to feathers Conflict error. Closes \#104 [\#105](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/105) ([ekryski](https://github.com/ekryski))
- Update feathers-query-filters to version 2.0.0 🚀 [\#101](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/101) ([greenkeeperio-bot](https://github.com/greenkeeperio-bot))

## [v3.5.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.5.0) (2016-07-09)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.4.2...v3.5.0)

**Fixed bugs:**

- We shouldn't remove properties from original objects [\#98](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/98)

**Merged pull requests:**

- feathers-service-tests@0.6.2 breaks build 🚨 [\#100](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/100) ([greenkeeperio-bot](https://github.com/greenkeeperio-bot))

## [v3.4.2](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.4.2) (2016-07-07)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.4.1...v3.4.2)

**Closed issues:**

- Update README.md to reflect change to 'name' option for the service. [\#96](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/96)
- Can't use `$inc` in patch [\#95](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/95)
- Is this possible for multiple insert using Feathers mongoose? [\#94](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/94)

**Merged pull requests:**

- Adding Context:'query' so validators get the updating document [\#99](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/99) ([quick691fr](https://github.com/quick691fr))
- Update README.md [\#97](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/97) ([githugger](https://github.com/githugger))
- mongoose@4.5.2 breaks build 🚨 [\#93](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/93) ([greenkeeperio-bot](https://github.com/greenkeeperio-bot))

## [v3.4.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.4.1) (2016-06-21)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.4.0...v3.4.1)

**Closed issues:**

- Support passing mongoose specific params to queries. [\#70](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/70)
- Add a way to $push in a PATCH [\#68](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/68)
- Handle duplicate key errors as a special case [\#67](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/67)

**Merged pull requests:**

- Wrapping native mongoldb errors. Specifically duplicate key errors. [\#92](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/92) ([ekryski](https://github.com/ekryski))
- Adding support to be able to do $push, $set, etc. on patch [\#91](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/91) ([ekryski](https://github.com/ekryski))

## [v3.4.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.4.0) (2016-06-17)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.3.7...v3.4.0)

**Closed issues:**

- \_id is a string [\#89](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/89)
- Embedded documents validation using model validation [\#88](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/88)
- Cast to ObjectId failed for value X at path "\_id" [\#81](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/81)
- $populate documentation [\#75](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/75)
- Change remove-all syntax. [\#74](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/74)
- update operations don't fail if required keys are missing. [\#73](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/73)
- Support $search [\#50](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/50)

**Merged pull requests:**

- Update feathers-service-tests to version 0.6.0 🚀 [\#90](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/90) ([greenkeeperio-bot](https://github.com/greenkeeperio-bot))
- Adding runValidators [\#87](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/87) ([marshallswain](https://github.com/marshallswain))
- mocha@2.5.0 breaks build 🚨 [\#86](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/86) ([greenkeeperio-bot](https://github.com/greenkeeperio-bot))
- Update babel-plugin-add-module-exports to version 0.2.0 🚀 [\#84](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/84) ([greenkeeperio-bot](https://github.com/greenkeeperio-bot))

## [v3.3.7](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.3.7) (2016-04-21)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.3.6...v3.3.7)

**Fixed bugs:**

- $select doesn't work in find? [\#71](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/71)

**Closed issues:**

- hooks.toObject\(\) fails if data is paginated [\#77](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/77)
- Bypass of methods [\#76](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/76)
- custom query [\#69](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/69)

**Merged pull requests:**

- Fix for toObject hook [\#78](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/78) ([jack-guy](https://github.com/jack-guy))
- Fixed overwrite option: was always true [\#72](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/72) ([leo-nard](https://github.com/leo-nard))

## [v3.3.6](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.3.6) (2016-02-24)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.3.5...v3.3.6)

**Merged pull requests:**

- bumping feathers-errors version [\#66](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/66) ([ekryski](https://github.com/ekryski))

## [v3.3.5](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.3.5) (2016-02-23)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.3.4...v3.3.5)

**Merged pull requests:**

- enforcing that you shouldn't be able to change ids [\#65](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/65) ([ekryski](https://github.com/ekryski))

## [v3.3.4](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.3.4) (2016-02-23)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.3.3...v3.3.4)

**Closed issues:**

- Updating/Patching with custom ids results in orphaned documents. [\#63](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/63)

**Merged pull requests:**

- custom ids no longer get deleted on patch and update. Closes \#63 [\#64](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/64) ([ekryski](https://github.com/ekryski))

## [v3.3.3](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.3.3) (2016-02-23)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.3.2...v3.3.3)

**Closed issues:**

- Error handler should reject not throw [\#61](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/61)

**Merged pull requests:**

- Convert errorHandler to return a rejected promise instead of throwing [\#62](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/62) ([daffl](https://github.com/daffl))

## [v3.3.2](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.3.2) (2016-02-22)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.3.1...v3.3.2)

**Merged pull requests:**

- Example update [\#60](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/60) ([ekryski](https://github.com/ekryski))

## [v3.3.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.3.1) (2016-02-20)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.3.0...v3.3.1)

**Closed issues:**

- option.id ignored in \_get [\#58](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/58)
- What is the best way for validate mongoose models? [\#57](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/57)
- Validation errors return an HTTP 500 Error [\#56](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/56)
- how to catch MongoError [\#55](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/55)
- Documentation on troubleshooting [\#31](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/31)

**Merged pull requests:**

- get should use the options.id attribute. Closes \#58 [\#59](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/59) ([ekryski](https://github.com/ekryski))

## [v3.3.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.3.0) (2016-02-12)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.2.0...v3.3.0)

**Closed issues:**

- $populate options does not work in get\(\) queries [\#53](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/53)

**Merged pull requests:**

- Implement $populate option in params.query on get\(\) [\#54](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/54) ([BigAB](https://github.com/BigAB))

## [v3.2.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.2.0) (2016-02-09)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.1.1...v3.2.0)

**Closed issues:**

- use .lean\(\) liberally in fetch's? [\#51](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/51)
- Document using $regex [\#49](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/49)
- Adding fields on update isn't currently possible [\#48](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/48)
- toObject\(\) hook should check for presence of .toObject\(\) [\#44](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/44)
- With toObject\(\), ObjectIDs aren't stringified. [\#43](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/43)

**Merged pull requests:**

- Running lean [\#52](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/52) ([ekryski](https://github.com/ekryski))

## [v3.1.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.1.1) (2016-01-30)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.1.0...v3.1.1)

**Merged pull requests:**

- Make result counting optional and enable only for pagination [\#47](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/47) ([daffl](https://github.com/daffl))

## [v3.1.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.1.0) (2016-01-30)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.0.4...v3.1.0)

**Merged pull requests:**

- Use internal methods instead of service methods directly [\#46](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/46) ([daffl](https://github.com/daffl))
- Remove array check in create. [\#45](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/45) ([marshallswain](https://github.com/marshallswain))

## [v3.0.4](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.0.4) (2016-01-08)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.0.3...v3.0.4)

**Implemented enhancements:**

- Support batch creates [\#21](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/21)
- Support batch updates [\#20](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/20)

**Merged pull requests:**

- Documenting the toObject hook. [\#41](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/41) ([marshallswain](https://github.com/marshallswain))

## [v3.0.3](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.0.3) (2016-01-08)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.0.2...v3.0.3)

**Closed issues:**

- $populate is broken [\#40](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/40)

## [v3.0.2](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.0.2) (2016-01-08)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.0.1...v3.0.2)

**Implemented enhancements:**

- Support replica sets [\#19](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/19)

**Closed issues:**

- Docs for extending are wrong [\#39](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/39)
- Named export 'service' should expose constructor function, not init function [\#37](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/37)
- No documentation for Error handling [\#28](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/28)
- Add documentation for use with feathers-hooks [\#25](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/25)

## [v3.0.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.0.1) (2016-01-08)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v3.0.0...v3.0.1)

**Closed issues:**

- ES6 export doesn't work with module export plugin [\#35](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/35)

**Merged pull requests:**

- Fix default module export for ES5 environments [\#36](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/36) ([daffl](https://github.com/daffl))

## [v3.0.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v3.0.0) (2016-01-04)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v2.0.0...v3.0.0)

**Implemented enhancements:**

- Auto-generate documentation from schema [\#9](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/9)
- Validation error should be returned as JSON [\#6](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/6)

**Closed issues:**

- Add docs for overriding the service methods \(patch for example\) [\#34](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/34)
- NPM Release for feathers-hooks [\#29](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/29)
- Events? [\#27](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/27)
- How to override service methods [\#26](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/26)
- Utilize query.lean\(\) to get plain objects. [\#24](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/24)
- Document using virtuals. [\#23](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/23)

**Merged pull requests:**

- Update to ES6 [\#33](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/33) ([ekryski](https://github.com/ekryski))
- Add toObject hook for documents. [\#32](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/32) ([marshallswain](https://github.com/marshallswain))
- delete app.configure\(feathers.errors\(\)\) [\#30](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/30) ([AminBK](https://github.com/AminBK))
- Add feathers-hooks compatibility. [\#22](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/22) ([marshallswain](https://github.com/marshallswain))

## [v2.0.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v2.0.0) (2015-08-05)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/2.0.0-pre.1...v2.0.0)

**Implemented enhancements:**

- Validation [\#2](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/2)
- Support for relationships [\#1](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/1)

**Closed issues:**

- Should use underscores to donate filter params vs. params that are on a model [\#17](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/17)
- Update examples for 1.0.0 and add example for extension [\#15](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/15)

**Merged pull requests:**

- Release 2.0.0 [\#18](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/18) ([ekryski](https://github.com/ekryski))

## [2.0.0-pre.1](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/2.0.0-pre.1) (2014-07-19)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v1.2.0...2.0.0-pre.1)

**Implemented enhancements:**

- Rename to feathers-mongoose [\#14](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/14)

**Closed issues:**

- Allow overriding default CRUD methods [\#12](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/12)

## [v1.2.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v1.2.0) (2014-06-06)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/v1.1.0...v1.2.0)

## [v1.1.0](https://github.com/feathersjs-ecosystem/feathers-mongoose/tree/v1.1.0) (2014-04-23)

[Full Changelog](https://github.com/feathersjs-ecosystem/feathers-mongoose/compare/2ee46bc05956ddcc7754cb015d85b7bc4a10b337...v1.1.0)

**Implemented enhancements:**

- Getter methods for Mongoose schema and model [\#10](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/10)
- Add `feathers-plugin` to keywords of package.json [\#8](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/8)
- Limited peerDependencies versions [\#7](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/7)
- Searching \(READ ALL\) [\#4](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/4)
- Sorting [\#3](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/3)

**Fixed bugs:**

- Mongoose TypeError when creating Schema [\#5](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/5)

**Merged pull requests:**

- Version bump and badges fix [\#13](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/13) ([Glavin001](https://github.com/Glavin001))
- Cleaned up a few things [\#11](https://github.com/feathersjs-ecosystem/feathers-mongoose/pull/11) ([agonbina](https://github.com/agonbina))



\* *This Changelog was automatically generated by [github_changelog_generator](https://github.com/github-changelog-generator/github-changelog-generator)*
